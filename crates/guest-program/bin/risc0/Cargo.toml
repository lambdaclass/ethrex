[package]
name = "ethrex-guest-risc0"
version = "9.0.0"
edition = "2024"
license = "MIT OR Apache-2.0"

[workspace]

[dependencies]
c-kzg = { version = "2.1.1", features = ["eip-7594"] }
risc0-zkvm = { version = "=3.0.3", default-features = false, features = [
    "std",
    "getrandom",
] }
risc0-zkvm-platform = { version = "=2.2.1", default-features = false, features = [
    "sys-getenv",
] }
ethrex-guest-program = { path = "../../", default-features = false, features = [
    "c-kzg",
] }
rkyv = { version = "0.8.10", features = ["unaligned"] }


ethrex-common = { path = "../../../common", default-features = false, features = [
    "risc0",
] }
ethrex-vm = { path = "../../../vm", default-features = false, features = [
    "risc0",
] }
ethrex-l2-common = { path = "../../../l2/common", default-features = false, features = [
    "risc0",
] }

[patch.crates-io]
sha2 = { git = "https://github.com/risc0/RustCrypto-hashes", tag = "sha2-v0.10.9-risczero.0" }
k256 = { git = "https://github.com/risc0/RustCrypto-elliptic-curves", tag = "k256/v0.13.4-risczero.1" }
p256 = { git = "https://github.com/risc0/RustCrypto-elliptic-curves", tag = "p256/v0.13.2-risczero.1" }
crypto-bigint = { git = "https://github.com/risc0/RustCrypto-crypto-bigint", tag = "v0.5.5-risczero.0" }
c-kzg = { git = "https://github.com/risc0/c-kzg-4844", tag = "c-kzg/v2.1.1-risczero.0" }
substrate-bn = { git = "https://github.com/risc0/paritytech-bn", tag = "v0.6.0-risczero.0" }

# These precompiles require the "unstable" risc0 feature which is not suited
# for production environments.
# tiny-keccak = { git = "https://github.com/risc0/tiny-keccak", tag = "tiny-keccak/v2.0.2-risczero.0" }
# [patch."https://github.com/lambdaclass/bls12_381"]
# bls12_381 = { git = "https://github.com/lambdaclass/zkcrypto-bls12_381", branch = "expose-fp-struct" }

[features]
l2 = ["ethrex-guest-program/l2"]
