id: synced-check
name: "Check Client synced"
config:
  timeout: 5m
  minBlockHeight: 10
timeout: ${timeout}"
tasks:
  - name: run_tasks_concurrent
    title: "Check if EL & CL clients are synced"
    config:
      tasks:
        - name: check_consensus_sync_status
          title: "Check if CL client is synced"
          config:
            pollInterval: 60s
        - name: check_execution_sync_status
          title: "Check if EL client is synced"
          config:
            pollInterval: 60s

  - name: check_execution_sync_status
    title: "Make sure the EL client runs for 30m"
    timeout: 35m
    configVars:
      minBlockHeight: "minBlockHeight"
